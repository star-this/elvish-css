/**
 * Elvish - Design Tokens
 * 
 * Modular scale and design tokens for consistent spacing,
 * typography, and colors throughout the system.
 * 
 * Uses modern CSS features:
 * - light-dark() for automatic theme switching
 * - Relative color syntax (oklch) for derived colors
 * 
 * RATIO MODES:
 * - golden (φ = 1.618): Classical, dramatic, organic - best for CTAs & impact
 * - silver (√2 = 1.414): Subtle, modern, ISO paper ratios - best for dense content
 * - fifth (1.5): Musical, balanced middle-ground
 * 
 * To change: set --ratio-mode on :root or any container
 *   :root { --ratio-mode: silver; }
 *   .documentation { --ratio-mode: silver; }
 */

:root {
  /* ===== COLOR SCHEME ===== */
  color-scheme: light dark;
  
  /* ===== RATIO PRESETS ===== */
  --ratio-golden: 1.618;      /* φ - Golden Ratio */
  --ratio-silver: 1.414;      /* √2 - Silver/Lichtenberg Ratio */
  --ratio-fifth: 1.5;         /* Perfect Fifth (musical) */
  
  /* ===== ACTIVE RATIO ===== */
  /* Default: Perfect Fifth for balanced harmony */
  --ratio: var(--ratio-fifth);
  
  /* ===== MODULAR SCALE ===== */
  /* 
   * Golden Ratio scale at 16px base:
   * s-2: 6px   | s-1: 10px  | s0: 16px (base)
   * s1: 26px   | s2: 42px   | s3: 68px
   * s4: 110px  | s5: 178px
   */
  --s-5: calc(var(--s-4) / var(--ratio));
  --s-4: calc(var(--s-3) / var(--ratio));
  --s-3: calc(var(--s-2) / var(--ratio));
  --s-2: calc(var(--s-1) / var(--ratio));
  --s-1: calc(var(--s0) / var(--ratio));
  --s0: 1rem;
  --s1: calc(var(--s0) * var(--ratio));
  --s2: calc(var(--s1) * var(--ratio));
  --s3: calc(var(--s2) * var(--ratio));
  --s4: calc(var(--s3) * var(--ratio));
  --s5: calc(var(--s4) * var(--ratio));
  
  /* ===== MEASURE (Text) ===== */
  /* Maximum line length for readable text - varies by ratio */
  --measure: 70ch;  /* Default for Fifth; Golden=60ch, Silver=80ch */
  
  /* ===== LAYOUT THRESHOLDS ===== */
  /* 
   * These are for LAYOUT decisions, not text readability.
   * Use rem (not ch) because layout is about physical space, not characters.
   */
  --layout-threshold-sm: 30rem;   /* ~480px - phone landscape */
  --layout-threshold-md: 45rem;   /* ~720px - tablet portrait */
  --layout-threshold-lg: 60rem;   /* ~960px - tablet landscape */
  --layout-threshold-xl: 75rem;   /* ~1200px - small desktop */
  
  /* ===== BRAND COLOR (Single source of truth) ===== */
  /* Teal: rgba(0, 233, 188, 1) converted to OKLCH */
  --brand: oklch(83% 0.17 168);
  
  /* ===== DERIVED COLORS (Relative Color Syntax) ===== */
  /* Lighten/darken by adjusting L (lightness) */
  --brand-lighter: oklch(from var(--brand) calc(l + 0.3) c h);
  --brand-light: oklch(from var(--brand) calc(l + 0.15) c h);
  --brand-dark: oklch(from var(--brand) calc(l - 0.1) c h);
  --brand-darker: oklch(from var(--brand) calc(l - 0.2) c h);
  
  /* Desaturate by reducing C (chroma) */
  --brand-muted: oklch(from var(--brand) l calc(c * 0.5) h);
  --brand-subtle: oklch(from var(--brand) l calc(c * 0.25) h);
  
  /* Transparency variants */
  --brand-ghost: oklch(from var(--brand) l c h / 0.1);
  --brand-overlay: oklch(from var(--brand) l c h / 0.85);
  
  /* Complementary/Analogous via hue shift */
  --brand-complement: oklch(from var(--brand) l c calc(h + 180));
  --brand-analogous-1: oklch(from var(--brand) l c calc(h + 30));
  --brand-analogous-2: oklch(from var(--brand) l c calc(h - 30));
  
  /* ===== SEMANTIC COLORS (light-dark auto-switching) ===== */
  --color-surface: light-dark(#ffffff, #1a1a2e);
  --color-surface-raised: light-dark(#f8f9fa, #252538);
  --color-surface-sunken: light-dark(#e9ecef, #12121c);
  
  --color-text: light-dark(#1a1a2e, #f0f0f5);
  --color-text-muted: light-dark(#6c757d, #9ca3af);
  --color-text-subtle: light-dark(#adb5bd, #6b7280);
  
  --color-border: light-dark(#dee2e6, #374151);
  --color-border-strong: light-dark(#adb5bd, #4b5563);
  
  /* Accent adapts to theme */
  --color-accent: light-dark(
    oklch(from var(--brand) calc(l - 0.05) c h),
    oklch(from var(--brand) calc(l + 0.1) c h)
  );
  --color-accent-hover: light-dark(
    oklch(from var(--brand) calc(l - 0.15) c h),
    oklch(from var(--brand) calc(l + 0.2) c h)
  );
  --color-accent-text: light-dark(#ffffff, #1a1a2e);
  
  /* Status colors */
  --color-success: light-dark(oklch(55% 0.17 145), oklch(65% 0.17 145));
  --color-warning: light-dark(oklch(70% 0.15 85), oklch(75% 0.15 85));
  --color-danger: light-dark(oklch(55% 0.2 25), oklch(65% 0.2 25));
  --color-info: light-dark(oklch(55% 0.15 230), oklch(65% 0.15 230));
  
  /* Legacy aliases for backward compatibility */
  --color-dark: var(--color-text);
  --color-light: var(--color-surface);
  --color-mid: var(--color-text-muted);
  
  /* ===== BORDERS ===== */
  --border-thin: 1px;
  --border-thick: 3px;
  
  /* ===== FONTS ===== */
  --font-plain: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  --font-mono: ui-monospace, 'Cascadia Code', 'Source Code Pro', Menlo, monospace;
  
  /* ===== LINE HEIGHT ===== */
  --line-height: 1.5;
  --line-height-tight: 1.2;
  --line-height-loose: 1.8;
  
  /* ===== TIMING ===== */
  --duration-instant: 100ms;
  --duration-fast: 200ms;
  --duration-normal: 300ms;
  --duration-slow: 500ms;
  
  /* ===== EASING ===== */
  --ease-out: cubic-bezier(0, 0, 0.2, 1);
  --ease-in: cubic-bezier(0.4, 0, 1, 1);
  --ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);
  --ease-bounce: cubic-bezier(0.34, 1.56, 0.64, 1);
  
  /* Legacy transition shortcuts */
  --transition-fast: var(--duration-fast) var(--ease-out);
  --transition-medium: var(--duration-normal) var(--ease-out);
  --transition-slow: var(--duration-slow) var(--ease-out);
}
