<!DOCTYPE html>
<html lang="en" data-ratio="fifth">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Elvish - CDN Demo</title>
  
  <!-- 
    CDN Usage (after npm publish):
    <link rel="stylesheet" href="https://unpkg.com/elvish-layout@2.0.0/dist/elvish.min.css">
    <script src="https://unpkg.com/elvish-layout@2.0.0/dist/elvish.iife.js"></script>
    
    For now, using local dist files:
  -->
  <link rel="stylesheet" href="../dist/elvish.css">
  
  <style>
    /* Demo-specific styles */
    body {
      font-family: system-ui, sans-serif;
      background: var(--color-surface);
      color: var(--color-text);
    }
    
    .demo-card {
      background: var(--color-surface-raised);
      border: 1px solid var(--color-border);
      border-radius: var(--s-1);
      padding: var(--s1);
    }
    
    .demo-card h3 {
      margin: 0 0 var(--s-1) 0;
      color: var(--color-accent);
    }
    
    .controls {
      position: fixed;
      top: var(--s1);
      right: var(--s1);
      display: flex;
      gap: var(--s-1);
      z-index: 100;
    }
    
    .controls button {
      padding: var(--s-1) var(--s0);
      background: var(--color-surface-raised);
      border: 1px solid var(--color-border);
      border-radius: var(--s-2);
      cursor: pointer;
      font: inherit;
      color: var(--color-text);
    }
    
    .controls button:hover {
      background: var(--color-accent);
      color: var(--color-accent-text);
      border-color: var(--color-accent);
    }
  </style>
</head>
<body>
  <div class="controls">
    <button onclick="toggleTheme()">üåì Theme</button>
    <button onclick="toggleRatio()">üìê Ratio</button>
  </div>
  
  <i-enedh max="80ch" gutters="var(--s1)">
    <i-hath space="var(--s3)">
      
      <!-- Header -->
      <header>
        <i-hath space="var(--s0)">
          <h1>Elvish CDN Demo</h1>
          <p style="color: var(--color-text-muted);">
            This page loads Elvish from bundled dist files. 
            Works offline, no npm required!
          </p>
        </i-hath>
      </header>
      
      <!-- Grid Demo -->
      <section>
        <h2>Responsive Grid (<code>i-vircantie</code>)</h2>
        <i-vircantie min="200px" space="var(--s1)" id="demoGrid">
          <div class="demo-card">
            <h3>Card 1</h3>
            <p>Automatically responsive based on container width.</p>
          </div>
          <div class="demo-card">
            <h3>Card 2</h3>
            <p>No media queries needed‚Äîintrinsic design!</p>
          </div>
          <div class="demo-card">
            <h3>Card 3</h3>
            <p>Resize the window to see the magic.</p>
          </div>
          <div class="demo-card">
            <h3>Card 4</h3>
            <p>Built on CSS Grid's auto-fit + minmax.</p>
          </div>
        </i-vircantie>
      </section>
      
      <!-- Sidebar Demo -->
      <section>
        <h2>Sidebar Layout (<code>i-glan-veleg</code>)</h2>
        <i-glan-veleg side-width="180px" content-min="50%" space="var(--s1)">
          <aside class="demo-card">
            <h3>Sidebar</h3>
            <p>Fixed width until wrapping threshold.</p>
          </aside>
          <main class="demo-card">
            <h3>Main Content</h3>
            <p>Takes remaining space. When container gets narrow, stacks vertically. No breakpoints‚Äîthe layout decides!</p>
          </main>
        </i-glan-veleg>
      </section>
      
      <!-- Switcher Demo -->
      <section>
        <h2>Switcher (<code>i-gwistindor</code>)</h2>
        <i-gwistindor threshold="30rem" space="var(--s1)">
          <div class="demo-card">
            <h3>Item A</h3>
            <p>Horizontal above threshold.</p>
          </div>
          <div class="demo-card">
            <h3>Item B</h3>
            <p>Vertical below threshold.</p>
          </div>
          <div class="demo-card">
            <h3>Item C</h3>
            <p>The "Holy Albatross" technique.</p>
          </div>
        </i-gwistindor>
      </section>
      
      <!-- View Transitions Demo -->
      <section>
        <h2>View Transitions</h2>
        <p>Click the buttons in the top-right corner to see smooth transitions!</p>
        <i-tiniath space="var(--s0)">
          <button onclick="addCard()">Add Card</button>
          <button onclick="removeCard()">Remove Card</button>
        </i-tiniath>
      </section>
      
      <!-- Footer -->
      <footer style="text-align: center; color: var(--color-text-muted);">
        <p><em>Mae govannen!</em> ‚Äî Elvish Layout System v2.0.0</p>
      </footer>
      
    </i-hath>
  </i-enedh>
  
  <!-- Load Elvish JS (registers custom elements) -->
  <script src="../dist/elvish.iife.js"></script>
  
  <script>
    // Theme toggle with View Transition
    function toggleTheme() {
      Elvish.transitionTheme(
        document.documentElement.style.colorScheme === 'dark' ? 'light' : 'dark'
      );
    }
    
    // Ratio toggle with View Transition
    const ratios = ['fifth', 'golden', 'silver'];
    let currentRatio = 0;
    
    function toggleRatio() {
      currentRatio = (currentRatio + 1) % ratios.length;
      Elvish.transitionRatio(ratios[currentRatio]);
    }
    
    // Add card with View Transition
    function addCard() {
      const grid = document.getElementById('demoGrid');
      
      Elvish.transition(() => {
        const card = document.createElement('div');
        card.className = 'demo-card';
        card.innerHTML = `<h3>New Card</h3><p>Added with View Transition!</p>`;
        grid.appendChild(card);
      });
    }
    
    // Remove card with View Transition
    function removeCard() {
      const grid = document.getElementById('demoGrid');
      const cards = grid.querySelectorAll('.demo-card');
      
      if (cards.length > 1) {
        Elvish.transition(() => {
          cards[cards.length - 1].remove();
        });
      }
    }
  </script>
</body>
</html>
